<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.4 (20251115.1723)
 -->
<!-- Title: DatabaseSchema Pages: 1 -->
<svg width="1661pt" height="1538pt"
 viewBox="0.00 0.00 1661.00 1538.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1533.75)">
<title>DatabaseSchema</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1533.75 1657.12,-1533.75 1657.12,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_legend</title>
<polygon fill="none" stroke="black" points="1495.12,-8 1495.12,-1445.5 1645.12,-1445.5 1645.12,-8 1495.12,-8"/>
<text xml:space="preserve" text-anchor="middle" x="1570.12" y="-1432" font-family="Times New Roman,serif" font-size="10.00">Legend</text>
</g>
<!-- StaffUser -->
<g id="node1" class="node">
<title>StaffUser</title>
<polygon fill="lightblue" stroke="black" points="554.75,-1279.5 554.75,-1520 703.5,-1520 703.5,-1279.5 554.75,-1279.5"/>
<text xml:space="preserve" text-anchor="middle" x="629.12" y="-1507.45" font-family="Arial" font-size="9.00">StaffUser</text>
<polyline fill="none" stroke="black" points="554.75,-1501.5 703.5,-1501.5"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1488.95" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="554.75,-1483 703.5,-1483"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1470.45" font-family="Arial" font-size="9.00">email (EmailField, UNIQUE)</text>
<polyline fill="none" stroke="black" points="554.75,-1464.5 703.5,-1464.5"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1451.95" font-family="Arial" font-size="9.00">password (CharField, hashed)</text>
<polyline fill="none" stroke="black" points="554.75,-1446 703.5,-1446"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1433.45" font-family="Arial" font-size="9.00">first_name (CharField)</text>
<polyline fill="none" stroke="black" points="554.75,-1427.5 703.5,-1427.5"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1414.95" font-family="Arial" font-size="9.00">last_name (CharField)</text>
<polyline fill="none" stroke="black" points="554.75,-1409 703.5,-1409"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1396.45" font-family="Arial" font-size="9.00">role (CharField: OWNER/STAFF)</text>
<polyline fill="none" stroke="black" points="554.75,-1390.5 703.5,-1390.5"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1377.95" font-family="Arial" font-size="9.00">profile_picture (ImageField)</text>
<polyline fill="none" stroke="black" points="554.75,-1372 703.5,-1372"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1359.45" font-family="Arial" font-size="9.00">is_active (BooleanField)</text>
<polyline fill="none" stroke="black" points="554.75,-1353.5 703.5,-1353.5"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1340.95" font-family="Arial" font-size="9.00">is_deleted (BooleanField)</text>
<polyline fill="none" stroke="black" points="554.75,-1335 703.5,-1335"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1322.45" font-family="Arial" font-size="9.00">deleted_at (DateTimeField)</text>
<polyline fill="none" stroke="black" points="554.75,-1316.5 703.5,-1316.5"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1303.95" font-family="Arial" font-size="9.00">date_joined (DateTimeField)</text>
<polyline fill="none" stroke="black" points="554.75,-1298 703.5,-1298"/>
<text xml:space="preserve" text-anchor="start" x="562.75" y="-1285.45" font-family="Arial" font-size="9.00">last_login (DateTimeField)</text>
</g>
<!-- Member -->
<g id="node2" class="node">
<title>Member</title>
<polygon fill="lightgreen" stroke="black" points="418.75,-822 418.75,-1173.5 609.5,-1173.5 609.5,-822 418.75,-822"/>
<text xml:space="preserve" text-anchor="middle" x="514.12" y="-1160.95" font-family="Arial" font-size="9.00">Member</text>
<polyline fill="none" stroke="black" points="418.75,-1155 609.5,-1155"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1142.45" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="418.75,-1136.5 609.5,-1136.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1123.95" font-family="Arial" font-size="9.00">member_id (CharField, UNIQUE, 10 chars)</text>
<polyline fill="none" stroke="black" points="418.75,-1118 609.5,-1118"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1105.45" font-family="Arial" font-size="9.00">full_name (CharField, 100 chars)</text>
<polyline fill="none" stroke="black" points="418.75,-1099.5 609.5,-1099.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1086.95" font-family="Arial" font-size="9.00">sex (CharField: Male/Female)</text>
<polyline fill="none" stroke="black" points="418.75,-1081 609.5,-1081"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1068.45" font-family="Arial" font-size="9.00">phone_number (CharField, 15 chars)</text>
<polyline fill="none" stroke="black" points="418.75,-1062.5 609.5,-1062.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1049.95" font-family="Arial" font-size="9.00">email (EmailField, optional)</text>
<polyline fill="none" stroke="black" points="418.75,-1044 609.5,-1044"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1031.45" font-family="Arial" font-size="9.00">address (TextField)</text>
<polyline fill="none" stroke="black" points="418.75,-1025.5 609.5,-1025.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-1012.95" font-family="Arial" font-size="9.00">emergency_contact_name (CharField)</text>
<polyline fill="none" stroke="black" points="418.75,-1007 609.5,-1007"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-994.45" font-family="Arial" font-size="9.00">emergency_phone (CharField)</text>
<polyline fill="none" stroke="black" points="418.75,-988.5 609.5,-988.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-975.95" font-family="Arial" font-size="9.00">photo (ImageField, optional)</text>
<polyline fill="none" stroke="black" points="418.75,-970 609.5,-970"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-957.45" font-family="Arial" font-size="9.00">start_date (DateField)</text>
<polyline fill="none" stroke="black" points="418.75,-951.5 609.5,-951.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-938.95" font-family="Arial" font-size="9.00">end_date (DateField)</text>
<polyline fill="none" stroke="black" points="418.75,-933 609.5,-933"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-920.45" font-family="Arial" font-size="9.00">date_created (DateTimeField)</text>
<polyline fill="none" stroke="black" points="418.75,-914.5 609.5,-914.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-901.95" font-family="Arial" font-size="9.00">date_updated (DateTimeField)</text>
<polyline fill="none" stroke="black" points="418.75,-896 609.5,-896"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-883.45" font-family="Arial" font-size="9.00">is_deleted (BooleanField)</text>
<polyline fill="none" stroke="black" points="418.75,-877.5 609.5,-877.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-864.95" font-family="Arial" font-size="9.00">deleted_at (DateTimeField)</text>
<polyline fill="none" stroke="black" points="418.75,-859 609.5,-859"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-846.45" font-family="Arial" font-size="9.00">created_by (FK → StaffUser)</text>
<polyline fill="none" stroke="black" points="418.75,-840.5 609.5,-840.5"/>
<text xml:space="preserve" text-anchor="start" x="426.75" y="-827.95" font-family="Arial" font-size="9.00">updated_by (FK → StaffUser)</text>
</g>
<!-- StaffUser&#45;&gt;Member -->
<g id="edge1" class="edge">
<title>StaffUser:pk&#45;&gt;Member:fk</title>
<path fill="none" stroke="black" d="M704.5,-1492.25C704.5,-1492.25 703.5,-1279 703.5,-1279 703.5,-1279 620.38,-1226.75 620.38,-1226.75 620.38,-1226.75 612.16,-913.11 610.72,-857.97"/>
<polygon fill="black" stroke="black" points="610.72,-858.08 614.11,-849.99 610.6,-853.75 610.52,-850.42 610.52,-850.42 610.52,-850.42 610.6,-853.75 606.91,-850.18 610.72,-858.08"/>
<text xml:space="preserve" text-anchor="middle" x="650.75" y="-1219.15" font-family="Arial" font-size="8.00">1:N (created_by)</text>
</g>
<!-- StaffUser&#45;&gt;Member -->
<g id="edge2" class="edge">
<title>StaffUser:pk&#45;&gt;Member:fk</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M553.75,-1492.25C553.75,-1492.25 418.75,-1174 418.75,-1174 418.75,-1174 417.93,-908.84 417.78,-858.09"/>
<polygon fill="black" stroke="black" points="417.78,-858.08 421.35,-850.07 417.76,-853.75 417.75,-850.42 417.75,-850.42 417.75,-850.42 417.76,-853.75 414.15,-850.1 417.78,-858.08"/>
<text xml:space="preserve" text-anchor="middle" x="471.34" y="-1219.15" font-family="Arial" font-size="8.00">1:N (updated_by)</text>
</g>
<!-- MembershipConfig -->
<g id="node3" class="node">
<title>MembershipConfig</title>
<polygon fill="lightyellow" stroke="black" points="1052.38,-923.75 1052.38,-1071.75 1225.88,-1071.75 1225.88,-923.75 1052.38,-923.75"/>
<text xml:space="preserve" text-anchor="middle" x="1139.12" y="-1059.2" font-family="Arial" font-size="9.00">MembershipConfig</text>
<polyline fill="none" stroke="black" points="1052.38,-1053.25 1225.88,-1053.25"/>
<text xml:space="preserve" text-anchor="start" x="1060.38" y="-1040.7" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="1052.38,-1034.75 1225.88,-1034.75"/>
<text xml:space="preserve" text-anchor="start" x="1060.38" y="-1022.2" font-family="Arial" font-size="9.00">default_duration_days (IntegerField)</text>
<polyline fill="none" stroke="black" points="1052.38,-1016.25 1225.88,-1016.25"/>
<text xml:space="preserve" text-anchor="start" x="1060.38" y="-1003.7" font-family="Arial" font-size="9.00">allow_prorated_pricing (BooleanField)</text>
<polyline fill="none" stroke="black" points="1052.38,-997.75 1225.88,-997.75"/>
<text xml:space="preserve" text-anchor="start" x="1060.38" y="-985.2" font-family="Arial" font-size="9.00">renewal_reminder_days (IntegerField)</text>
<polyline fill="none" stroke="black" points="1052.38,-979.25 1225.88,-979.25"/>
<text xml:space="preserve" text-anchor="start" x="1060.38" y="-966.7" font-family="Arial" font-size="9.00">grace_period_days (IntegerField)</text>
<polyline fill="none" stroke="black" points="1052.38,-960.75 1225.88,-960.75"/>
<text xml:space="preserve" text-anchor="start" x="1060.38" y="-948.2" font-family="Arial" font-size="9.00">updated_at (DateTimeField)</text>
<polyline fill="none" stroke="black" points="1052.38,-942.25 1225.88,-942.25"/>
<text xml:space="preserve" text-anchor="start" x="1060.38" y="-929.7" font-family="Arial" font-size="9.00">updated_by (FK → StaffUser)</text>
</g>
<!-- StaffUser&#45;&gt;MembershipConfig -->
<g id="edge3" class="edge">
<title>StaffUser:pk&#45;&gt;MembershipConfig:fk</title>
<path fill="none" stroke="black" d="M704.5,-1492.25C704.5,-1492.25 732.12,-1269.75 732.12,-1269.75 732.12,-1269.75 959.12,-1226.75 959.12,-1226.75 959.12,-1226.75 1225.88,-1072.25 1225.88,-1072.25 1225.88,-1072.25 1225.88,-923.75 1225.88,-923.75 1225.88,-923.75 1169.16,-923.1 1147.44,-922.85"/>
<polygon fill="black" stroke="black" points="1147.46,-922.85 1139.5,-919.15 1143.12,-922.8 1139.79,-922.76 1139.79,-922.76 1139.79,-922.76 1143.12,-922.8 1139.42,-926.35 1147.46,-922.85"/>
<text xml:space="preserve" text-anchor="middle" x="981.71" y="-1219.15" font-family="Arial" font-size="8.00">1:N</text>
</g>
<!-- MembershipPricing -->
<g id="node4" class="node">
<title>MembershipPricing</title>
<polygon fill="lightyellow" stroke="black" points="0,-905.25 0,-1090.25 174.25,-1090.25 174.25,-905.25 0,-905.25"/>
<text xml:space="preserve" text-anchor="middle" x="87.12" y="-1077.7" font-family="Arial" font-size="9.00">MembershipPricing</text>
<polyline fill="none" stroke="black" points="0,-1071.75 174.25,-1071.75"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-1059.2" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="0,-1053.25 174.25,-1053.25"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-1040.7" font-family="Arial" font-size="9.00">name (CharField: 1 Month, 3 Months...)</text>
<polyline fill="none" stroke="black" points="0,-1034.75 174.25,-1034.75"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-1022.2" font-family="Arial" font-size="9.00">duration_days (IntegerField)</text>
<polyline fill="none" stroke="black" points="0,-1016.25 174.25,-1016.25"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-1003.7" font-family="Arial" font-size="9.00">price (DecimalField, 10,2)</text>
<polyline fill="none" stroke="black" points="0,-997.75 174.25,-997.75"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-985.2" font-family="Arial" font-size="9.00">is_active (BooleanField)</text>
<polyline fill="none" stroke="black" points="0,-979.25 174.25,-979.25"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-966.7" font-family="Arial" font-size="9.00">display_order (IntegerField)</text>
<polyline fill="none" stroke="black" points="0,-960.75 174.25,-960.75"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-948.2" font-family="Arial" font-size="9.00">created_at (DateTimeField)</text>
<polyline fill="none" stroke="black" points="0,-942.25 174.25,-942.25"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-929.7" font-family="Arial" font-size="9.00">updated_at (DateTimeField)</text>
<polyline fill="none" stroke="black" points="0,-923.75 174.25,-923.75"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-911.2" font-family="Arial" font-size="9.00">created_by (FK → StaffUser)</text>
</g>
<!-- StaffUser&#45;&gt;MembershipPricing -->
<g id="edge4" class="edge">
<title>StaffUser:pk&#45;&gt;MembershipPricing:fk</title>
<path fill="none" stroke="black" d="M553.75,-1492.25C553.75,-1492.25 233.38,-1226.75 233.38,-1226.75 233.38,-1226.75 218.12,-1174 218.12,-1174 218.12,-1174 183.82,-966.35 176.58,-922.55"/>
<polygon fill="black" stroke="black" points="176.61,-922.72 178.86,-914.24 175.9,-918.45 175.36,-915.16 175.36,-915.16 175.36,-915.16 175.9,-918.45 171.75,-915.42 176.61,-922.72"/>
<text xml:space="preserve" text-anchor="middle" x="239.75" y="-1219.15" font-family="Arial" font-size="8.00">1:N</text>
</g>
<!-- Payment -->
<g id="node5" class="node">
<title>Payment</title>
<polygon fill="lightcoral" stroke="black" points="84.12,-429.25 84.12,-725.25 286.12,-725.25 286.12,-429.25 84.12,-429.25"/>
<text xml:space="preserve" text-anchor="middle" x="185.12" y="-712.7" font-family="Arial" font-size="9.00">Payment</text>
<polyline fill="none" stroke="black" points="84.12,-706.75 286.12,-706.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-694.2" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="84.12,-688.25 286.12,-688.25"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-675.7" font-family="Arial" font-size="9.00">transaction_id (UUIDField, UNIQUE)</text>
<polyline fill="none" stroke="black" points="84.12,-669.75 286.12,-669.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-657.2" font-family="Arial" font-size="9.00">member (FK → Member)</text>
<polyline fill="none" stroke="black" points="84.12,-651.25 286.12,-651.25"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-638.7" font-family="Arial" font-size="9.00">amount (DecimalField, 10,2)</text>
<polyline fill="none" stroke="black" points="84.12,-632.75 286.12,-632.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-620.2" font-family="Arial" font-size="9.00">payment_method (CharField: Cash, GCash...)</text>
<polyline fill="none" stroke="black" points="84.12,-614.25 286.12,-614.25"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-601.7" font-family="Arial" font-size="9.00">transaction_type (CharField)</text>
<polyline fill="none" stroke="black" points="84.12,-595.75 286.12,-595.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-583.2" font-family="Arial" font-size="9.00">reference_number (CharField, optional)</text>
<polyline fill="none" stroke="black" points="84.12,-577.25 286.12,-577.25"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-564.7" font-family="Arial" font-size="9.00">remarks (TextField, optional)</text>
<polyline fill="none" stroke="black" points="84.12,-558.75 286.12,-558.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-546.2" font-family="Arial" font-size="9.00">status (CharField: Completed, Pending...)</text>
<polyline fill="none" stroke="black" points="84.12,-540.25 286.12,-540.25"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-527.7" font-family="Arial" font-size="9.00">payment_date (DateField)</text>
<polyline fill="none" stroke="black" points="84.12,-521.75 286.12,-521.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-509.2" font-family="Arial" font-size="9.00">date_created (DateTimeField)</text>
<polyline fill="none" stroke="black" points="84.12,-503.25 286.12,-503.25"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-490.7" font-family="Arial" font-size="9.00">previous_end_date (DateField)</text>
<polyline fill="none" stroke="black" points="84.12,-484.75 286.12,-484.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-472.2" font-family="Arial" font-size="9.00">new_end_date (DateField)</text>
<polyline fill="none" stroke="black" points="84.12,-466.25 286.12,-466.25"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-453.7" font-family="Arial" font-size="9.00">membership_type (FK → MembershipPricing)</text>
<polyline fill="none" stroke="black" points="84.12,-447.75 286.12,-447.75"/>
<text xml:space="preserve" text-anchor="start" x="92.12" y="-435.2" font-family="Arial" font-size="9.00">processed_by_admin (FK → StaffUser)</text>
</g>
<!-- StaffUser&#45;&gt;Payment -->
<g id="edge9" class="edge">
<title>StaffUser:pk&#45;&gt;Payment:fk</title>
<path fill="none" stroke="black" d="M553.75,-1492.25C553.75,-1492.25 319.62,-1174 319.62,-1174 319.62,-1174 291.77,-733.89 287.64,-668.57"/>
<polygon fill="black" stroke="black" points="287.65,-668.82 290.74,-660.61 287.38,-664.49 287.17,-661.17 287.17,-661.17 287.17,-661.17 287.38,-664.49 283.55,-661.06 287.65,-668.82"/>
<text xml:space="preserve" text-anchor="middle" x="354.88" y="-995.02" font-family="Arial" font-size="8.00">1:N (processed_by)</text>
</g>
<!-- GymCheckIn -->
<g id="node6" class="node">
<title>GymCheckIn</title>
<polygon fill="lightcyan" stroke="black" points="766.75,-494 766.75,-660.5 957.5,-660.5 957.5,-494 766.75,-494"/>
<text xml:space="preserve" text-anchor="middle" x="862.12" y="-647.95" font-family="Arial" font-size="9.00">GymCheckIn</text>
<polyline fill="none" stroke="black" points="766.75,-642 957.5,-642"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-629.45" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="766.75,-623.5 957.5,-623.5"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-610.95" font-family="Arial" font-size="9.00">member (FK → Member)</text>
<polyline fill="none" stroke="black" points="766.75,-605 957.5,-605"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-592.45" font-family="Arial" font-size="9.00">check_in_time (DateTimeField)</text>
<polyline fill="none" stroke="black" points="766.75,-586.5 957.5,-586.5"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-573.95" font-family="Arial" font-size="9.00">check_out_time (DateTimeField, nullable)</text>
<polyline fill="none" stroke="black" points="766.75,-568 957.5,-568"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-555.45" font-family="Arial" font-size="9.00">check_in_date (DateField)</text>
<polyline fill="none" stroke="black" points="766.75,-549.5 957.5,-549.5"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-536.95" font-family="Arial" font-size="9.00">session_duration_minutes (IntegerField)</text>
<polyline fill="none" stroke="black" points="766.75,-531 957.5,-531"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-518.45" font-family="Arial" font-size="9.00">checked_in_by (FK → StaffUser)</text>
<polyline fill="none" stroke="black" points="766.75,-512.5 957.5,-512.5"/>
<text xml:space="preserve" text-anchor="start" x="774.75" y="-499.95" font-family="Arial" font-size="9.00">checked_out_by (FK → StaffUser, nullable)</text>
</g>
<!-- StaffUser&#45;&gt;GymCheckIn -->
<g id="edge10" class="edge">
<title>StaffUser:pk&#45;&gt;GymCheckIn:fk</title>
<path fill="none" stroke="black" d="M704.5,-1492.25C704.5,-1492.25 758.9,-712.51 765.16,-622.66"/>
<polygon fill="black" stroke="black" points="765.17,-622.56 769.32,-614.83 765.47,-618.24 765.7,-614.92 765.7,-614.92 765.7,-614.92 765.47,-618.24 762.14,-614.33 765.17,-622.56"/>
<text xml:space="preserve" text-anchor="middle" x="787.84" y="-995.02" font-family="Arial" font-size="8.00">1:N (checked_in_by)</text>
</g>
<!-- StaffUser&#45;&gt;GymCheckIn -->
<g id="edge11" class="edge">
<title>StaffUser:pk&#45;&gt;GymCheckIn:fk</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M704.5,-1492.25C704.5,-1492.25 732.12,-1269.75 732.12,-1269.75 732.12,-1269.75 838.12,-1174 838.12,-1174 838.12,-1174 957.5,-661 957.5,-661 957.5,-661 958.04,-635.79 958.33,-622.39"/>
<polygon fill="black" stroke="black" points="958.32,-622.58 962.09,-614.66 958.41,-618.25 958.49,-614.92 958.49,-614.92 958.49,-614.92 958.41,-618.25 954.89,-614.51 958.32,-622.58"/>
<text xml:space="preserve" text-anchor="middle" x="959.49" y="-995.02" font-family="Arial" font-size="8.00">1:N (checked_out_by)</text>
</g>
<!-- Member&#45;&gt;Payment -->
<g id="edge5" class="edge">
<title>Member:pk&#45;&gt;Payment:fk</title>
<path fill="none" stroke="red" stroke-width="2" d="M417.75,-1145.75C417.75,-1145.75 375.12,-821.5 375.12,-821.5 375.12,-821.5 315.12,-725.75 315.12,-725.75 315.12,-725.75 298.04,-685.92 290.56,-668.5"/>
<polygon fill="red" stroke="red" stroke-width="2" points="290.54,-668.47 290.7,-659.7 288.7,-664.18 287.65,-661.73 287.65,-661.73 287.65,-661.73 288.7,-664.18 284.08,-662.53 290.54,-668.47"/>
<text xml:space="preserve" text-anchor="middle" x="353.3" y="-770.9" font-family="Arial" font-size="8.00">1:N</text>
</g>
<!-- Member&#45;&gt;GymCheckIn -->
<g id="edge6" class="edge">
<title>Member:pk&#45;&gt;GymCheckIn:fk</title>
<path fill="none" stroke="blue" stroke-width="2" d="M610.5,-1145.75C610.5,-1145.75 653.12,-821.5 653.12,-821.5 653.12,-821.5 674.38,-768.75 674.38,-768.75 674.38,-768.75 738.12,-725.75 738.12,-725.75 738.12,-725.75 757.25,-648.56 763.67,-622.63"/>
<polygon fill="blue" stroke="blue" stroke-width="2" points="763.67,-622.66 769.08,-615.77 764.79,-618.13 765.43,-615.55 765.43,-615.55 765.43,-615.55 764.79,-618.13 762.09,-614.03 763.67,-622.66"/>
<text xml:space="preserve" text-anchor="middle" x="680.75" y="-770.9" font-family="Arial" font-size="8.00">1:N</text>
</g>
<!-- ActiveMemberSnapshot -->
<g id="node9" class="node">
<title>ActiveMemberSnapshot</title>
<polygon fill="wheat" stroke="black" points="344.62,-484.75 344.62,-669.75 507.62,-669.75 507.62,-484.75 344.62,-484.75"/>
<text xml:space="preserve" text-anchor="middle" x="426.12" y="-657.2" font-family="Arial" font-size="9.00">ActiveMemberSnapshot</text>
<polyline fill="none" stroke="black" points="344.62,-651.25 507.62,-651.25"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-638.7" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="344.62,-632.75 507.62,-632.75"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-620.2" font-family="Arial" font-size="9.00">snapshot_date (DateField)</text>
<polyline fill="none" stroke="black" points="344.62,-614.25 507.62,-614.25"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-601.7" font-family="Arial" font-size="9.00">member (FK → Member)</text>
<polyline fill="none" stroke="black" points="344.62,-595.75 507.62,-595.75"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-583.2" font-family="Arial" font-size="9.00">subscription_status (CharField)</text>
<polyline fill="none" stroke="black" points="344.62,-577.25 507.62,-577.25"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-564.7" font-family="Arial" font-size="9.00">end_date (DateField)</text>
<polyline fill="none" stroke="black" points="344.62,-558.75 507.62,-558.75"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-546.2" font-family="Arial" font-size="9.00">days_until_expiry (IntegerField)</text>
<polyline fill="none" stroke="black" points="344.62,-540.25 507.62,-540.25"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-527.7" font-family="Arial" font-size="9.00">total_payments (DecimalField, 10,2)</text>
<polyline fill="none" stroke="black" points="344.62,-521.75 507.62,-521.75"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-509.2" font-family="Arial" font-size="9.00">total_checkins (IntegerField)</text>
<polyline fill="none" stroke="black" points="344.62,-503.25 507.62,-503.25"/>
<text xml:space="preserve" text-anchor="start" x="352.62" y="-490.7" font-family="Arial" font-size="9.00">created_at (DateTimeField)</text>
</g>
<!-- Member&#45;&gt;ActiveMemberSnapshot -->
<g id="edge7" class="edge">
<title>Member:pk&#45;&gt;ActiveMemberSnapshot:fk</title>
<path fill="none" stroke="black" d="M417.75,-1145.75C417.75,-1145.75 418.75,-821.5 418.75,-821.5 418.75,-821.5 507.62,-670.25 507.62,-670.25 507.62,-670.25 508.23,-630.82 508.5,-613.26"/>
<polygon fill="black" stroke="black" points="508.5,-613.33 512.22,-605.39 508.56,-609 508.61,-605.67 508.61,-605.67 508.61,-605.67 508.56,-609 505.02,-605.28 508.5,-613.33"/>
<text xml:space="preserve" text-anchor="middle" x="454.29" y="-770.9" font-family="Arial" font-size="8.00">1:N</text>
</g>
<!-- MemberIdx -->
<g id="node10" class="node">
<title>MemberIdx</title>
<polygon fill="lightyellow" stroke="black" points="702.88,-612.75 565.38,-612.75 565.38,-541.75 708.88,-541.75 708.88,-606.75 702.88,-612.75"/>
<polyline fill="none" stroke="black" points="702.88,-612.75 702.88,-606.75"/>
<polyline fill="none" stroke="black" points="708.88,-606.75 702.88,-606.75"/>
<text xml:space="preserve" text-anchor="middle" x="637.12" y="-600.2" font-family="Arial" font-size="9.00">Indexes:</text>
<text xml:space="preserve" text-anchor="middle" x="637.12" y="-589.7" font-family="Arial" font-size="9.00">• member_id (UNIQUE)</text>
<text xml:space="preserve" text-anchor="middle" x="637.12" y="-579.2" font-family="Arial" font-size="9.00">• full_name (BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="637.12" y="-568.7" font-family="Arial" font-size="9.00">• phone_number (BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="637.12" y="-558.2" font-family="Arial" font-size="9.00">• email (BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="637.12" y="-547.7" font-family="Arial" font-size="9.00">• start_date, end_date (BTREE)</text>
</g>
<!-- Member&#45;&gt;MemberIdx -->
<g id="edge12" class="edge">
<title>Member&#45;&gt;MemberIdx</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M565.58,-821.69C588.48,-743.75 613.31,-659.29 626.86,-613.19"/>
</g>
<!-- MembershipPricing&#45;&gt;Payment -->
<g id="edge8" class="edge">
<title>MembershipPricing:pk&#45;&gt;Payment:fk</title>
<path fill="none" stroke="black" d="M175.25,-1062.5C175.25,-1062.5 174.25,-904.75 174.25,-904.75 174.25,-904.75 84.12,-725.75 84.12,-725.75 84.12,-725.75 83.52,-686.32 83.25,-668.76"/>
<polygon fill="black" stroke="black" points="83.25,-668.83 86.73,-660.78 83.19,-664.5 83.14,-661.17 83.14,-661.17 83.14,-661.17 83.19,-664.5 79.53,-660.89 83.25,-668.83"/>
<text xml:space="preserve" text-anchor="middle" x="115.89" y="-770.9" font-family="Arial" font-size="8.00">1:N</text>
</g>
<!-- PaymentIdx -->
<g id="node11" class="node">
<title>PaymentIdx</title>
<polygon fill="lightyellow" stroke="black" points="244.5,-341.75 119.75,-341.75 119.75,-270.75 250.5,-270.75 250.5,-335.75 244.5,-341.75"/>
<polyline fill="none" stroke="black" points="244.5,-341.75 244.5,-335.75"/>
<polyline fill="none" stroke="black" points="250.5,-335.75 244.5,-335.75"/>
<text xml:space="preserve" text-anchor="middle" x="185.12" y="-329.2" font-family="Arial" font-size="9.00">Indexes:</text>
<text xml:space="preserve" text-anchor="middle" x="185.12" y="-318.7" font-family="Arial" font-size="9.00">• transaction_id (UNIQUE)</text>
<text xml:space="preserve" text-anchor="middle" x="185.12" y="-308.2" font-family="Arial" font-size="9.00">• member_id (FK, BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="185.12" y="-297.7" font-family="Arial" font-size="9.00">• payment_date (BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="185.12" y="-287.2" font-family="Arial" font-size="9.00">• status (BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="185.12" y="-276.7" font-family="Arial" font-size="9.00">• payment_method (BTREE)</text>
</g>
<!-- Payment&#45;&gt;PaymentIdx -->
<g id="edge13" class="edge">
<title>Payment&#45;&gt;PaymentIdx</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M185.12,-428.76C185.12,-396.34 185.12,-364.92 185.12,-342.16"/>
</g>
<!-- CheckInIdx -->
<g id="node12" class="node">
<title>CheckInIdx</title>
<polygon fill="lightyellow" stroke="black" points="918.12,-336.5 800.12,-336.5 800.12,-276 924.12,-276 924.12,-330.5 918.12,-336.5"/>
<polyline fill="none" stroke="black" points="918.12,-336.5 918.12,-330.5"/>
<polyline fill="none" stroke="black" points="924.12,-330.5 918.12,-330.5"/>
<text xml:space="preserve" text-anchor="middle" x="862.12" y="-323.95" font-family="Arial" font-size="9.00">Indexes:</text>
<text xml:space="preserve" text-anchor="middle" x="862.12" y="-313.45" font-family="Arial" font-size="9.00">• member_id (FK, BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="862.12" y="-302.95" font-family="Arial" font-size="9.00">• check_in_date (BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="862.12" y="-292.45" font-family="Arial" font-size="9.00">• check_in_time (BTREE)</text>
<text xml:space="preserve" text-anchor="middle" x="862.12" y="-281.95" font-family="Arial" font-size="9.00">• check_out_time (BTREE)</text>
</g>
<!-- GymCheckIn&#45;&gt;CheckInIdx -->
<g id="edge14" class="edge">
<title>GymCheckIn&#45;&gt;CheckInIdx</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M862.12,-493.71C862.12,-440.43 862.12,-374.29 862.12,-336.82"/>
</g>
<!-- DashboardStats -->
<g id="node7" class="node">
<title>DashboardStats</title>
<polygon fill="wheat" stroke="black" points="761.12,-1270.25 761.12,-1529.25 933.12,-1529.25 933.12,-1270.25 761.12,-1270.25"/>
<text xml:space="preserve" text-anchor="middle" x="847.12" y="-1516.7" font-family="Arial" font-size="9.00">DashboardStats</text>
<polyline fill="none" stroke="black" points="761.12,-1510.75 933.12,-1510.75"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1498.2" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="761.12,-1492.25 933.12,-1492.25"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1479.7" font-family="Arial" font-size="9.00">stat_date (DateField)</text>
<polyline fill="none" stroke="black" points="761.12,-1473.75 933.12,-1473.75"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1461.2" font-family="Arial" font-size="9.00">total_members (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1455.25 933.12,-1455.25"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1442.7" font-family="Arial" font-size="9.00">active_members (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1436.75 933.12,-1436.75"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1424.2" font-family="Arial" font-size="9.00">expired_members (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1418.25 933.12,-1418.25"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1405.7" font-family="Arial" font-size="9.00">expiring_soon (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1399.75 933.12,-1399.75"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1387.2" font-family="Arial" font-size="9.00">new_members_month (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1381.25 933.12,-1381.25"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1368.7" font-family="Arial" font-size="9.00">daily_checkins (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1362.75 933.12,-1362.75"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1350.2" font-family="Arial" font-size="9.00">monthly_checkins (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1344.25 933.12,-1344.25"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1331.7" font-family="Arial" font-size="9.00">currently_active (IntegerField)</text>
<polyline fill="none" stroke="black" points="761.12,-1325.75 933.12,-1325.75"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1313.2" font-family="Arial" font-size="9.00">daily_revenue (DecimalField, 10,2)</text>
<polyline fill="none" stroke="black" points="761.12,-1307.25 933.12,-1307.25"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1294.7" font-family="Arial" font-size="9.00">monthly_revenue (DecimalField, 10,2)</text>
<polyline fill="none" stroke="black" points="761.12,-1288.75 933.12,-1288.75"/>
<text xml:space="preserve" text-anchor="start" x="769.12" y="-1276.2" font-family="Arial" font-size="9.00">computed_at (DateTimeField)</text>
</g>
<!-- PaymentSummary -->
<g id="node8" class="node">
<title>PaymentSummary</title>
<polygon fill="wheat" stroke="black" points="990.75,-1325.75 990.75,-1473.75 1181.5,-1473.75 1181.5,-1325.75 990.75,-1325.75"/>
<text xml:space="preserve" text-anchor="middle" x="1086.12" y="-1461.2" font-family="Arial" font-size="9.00">PaymentSummary</text>
<polyline fill="none" stroke="black" points="990.75,-1455.25 1181.5,-1455.25"/>
<text xml:space="preserve" text-anchor="start" x="998.75" y="-1442.7" font-family="Arial" font-size="9.00">id (PK, AutoField)</text>
<polyline fill="none" stroke="black" points="990.75,-1436.75 1181.5,-1436.75"/>
<text xml:space="preserve" text-anchor="start" x="998.75" y="-1424.2" font-family="Arial" font-size="9.00">summary_date (DateField)</text>
<polyline fill="none" stroke="black" points="990.75,-1418.25 1181.5,-1418.25"/>
<text xml:space="preserve" text-anchor="start" x="998.75" y="-1405.7" font-family="Arial" font-size="9.00">total_payments (IntegerField)</text>
<polyline fill="none" stroke="black" points="990.75,-1399.75 1181.5,-1399.75"/>
<text xml:space="preserve" text-anchor="start" x="998.75" y="-1387.2" font-family="Arial" font-size="9.00">total_amount (DecimalField, 10,2)</text>
<polyline fill="none" stroke="black" points="990.75,-1381.25 1181.5,-1381.25"/>
<text xml:space="preserve" text-anchor="start" x="998.75" y="-1368.7" font-family="Arial" font-size="9.00">payment_method_breakdown (JSONField)</text>
<polyline fill="none" stroke="black" points="990.75,-1362.75 1181.5,-1362.75"/>
<text xml:space="preserve" text-anchor="start" x="998.75" y="-1350.2" font-family="Arial" font-size="9.00">transaction_type_breakdown (JSONField)</text>
<polyline fill="none" stroke="black" points="990.75,-1344.25 1181.5,-1344.25"/>
<text xml:space="preserve" text-anchor="start" x="998.75" y="-1331.7" font-family="Arial" font-size="9.00">computed_at (DateTimeField)</text>
</g>
<!-- Constraints -->
<g id="node13" class="node">
<title>Constraints</title>
<polygon fill="lightcoral" stroke="black" points="1472.88,-1435.25 1239.38,-1435.25 1239.38,-1364.25 1478.88,-1364.25 1478.88,-1429.25 1472.88,-1435.25"/>
<polyline fill="none" stroke="black" points="1472.88,-1435.25 1472.88,-1429.25"/>
<polyline fill="none" stroke="black" points="1478.88,-1429.25 1472.88,-1429.25"/>
<text xml:space="preserve" text-anchor="middle" x="1359.12" y="-1422.7" font-family="Arial" font-size="9.00">Key Constraints:</text>
<text xml:space="preserve" text-anchor="middle" x="1359.12" y="-1412.2" font-family="Arial" font-size="9.00">• Soft Delete: is_deleted flag preserves history</text>
<text xml:space="preserve" text-anchor="middle" x="1359.12" y="-1401.7" font-family="Arial" font-size="9.00">• Data Preservation: Payment records never deleted</text>
<text xml:space="preserve" text-anchor="middle" x="1359.12" y="-1391.2" font-family="Arial" font-size="9.00">• Referential Integrity: CASCADE on related records</text>
<text xml:space="preserve" text-anchor="middle" x="1359.12" y="-1380.7" font-family="Arial" font-size="9.00">• Check&#45;in Limit: Max 3 per member per day (app logic)</text>
<text xml:space="preserve" text-anchor="middle" x="1359.12" y="-1370.2" font-family="Arial" font-size="9.00">• UUID Transactions: UUIDv4 for payment IDs</text>
</g>
<!-- L1 -->
<g id="node14" class="node">
<title>L1</title>
<polygon fill="lightgreen" stroke="black" points="1537.38,-1381.75 1537.38,-1417.75 1602.88,-1417.75 1602.88,-1381.75 1537.38,-1381.75"/>
<text xml:space="preserve" text-anchor="middle" x="1570.12" y="-1396.45" font-family="Arial" font-size="9.00">Core Tables</text>
</g>
<!-- L2 -->
<g id="node15" class="node">
<title>L2</title>
<polygon fill="lightyellow" stroke="black" points="1519.75,-979.75 1519.75,-1015.75 1620.5,-1015.75 1620.5,-979.75 1519.75,-979.75"/>
<text xml:space="preserve" text-anchor="middle" x="1570.12" y="-994.45" font-family="Arial" font-size="9.00">Configuration Tables</text>
</g>
<!-- L1&#45;&gt;L2 -->
<!-- L3 -->
<g id="node16" class="node">
<title>L3</title>
<polygon fill="lightcoral" stroke="black" points="1523.5,-559.25 1523.5,-595.25 1616.75,-595.25 1616.75,-559.25 1523.5,-559.25"/>
<text xml:space="preserve" text-anchor="middle" x="1570.12" y="-573.95" font-family="Arial" font-size="9.00">Transaction Tables</text>
</g>
<!-- L2&#45;&gt;L3 -->
<!-- L4 -->
<g id="node17" class="node">
<title>L4</title>
<polygon fill="wheat" stroke="black" points="1503.62,-288.25 1503.62,-324.25 1636.62,-324.25 1636.62,-288.25 1503.62,-288.25"/>
<text xml:space="preserve" text-anchor="middle" x="1570.12" y="-302.95" font-family="Arial" font-size="9.00">Aggregate/Computed Tables</text>
</g>
<!-- L3&#45;&gt;L4 -->
<!-- L5 -->
<g id="node18" class="node">
<title>L5</title>
<text xml:space="preserve" text-anchor="middle" x="1570.12" y="-162.45" font-family="Arial" font-size="9.00">1:N Relationship</text>
</g>
<!-- L4&#45;&gt;L5 -->
<!-- L6 -->
<g id="node19" class="node">
<title>L6</title>
<text xml:space="preserve" text-anchor="middle" x="1570.12" y="-30.7" font-family="Arial" font-size="9.00">Critical Path</text>
</g>
<!-- L5&#45;&gt;L6 -->
</g>
</svg>
