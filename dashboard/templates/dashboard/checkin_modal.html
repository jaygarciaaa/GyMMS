{% load static %}

<!-- Check-in Modal Styles -->
<link rel="stylesheet" href="{% static 'dashboard/css/checkin_modal.css' %}?v=3">

<!-- Check-in Modal -->
<div class="modal" id="checkInModal">
	<div class="modal-content">
		<div class="modal-header">
			<h2>Log Member Check-in</h2>
			<button type="button" class="modal-close" id="closeModal">&times;</button>
		</div>
		<div class="modal-body">
			<div class="check-in-options">
				<button type="button" class="option-btn active" data-type="member">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
						<circle cx="9" cy="7" r="4"></circle>
						<path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
						<path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
					</svg>
					Member Check-in
				</button>
				<button type="button" class="option-btn" data-type="walkin">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
						<circle cx="9" cy="7" r="4"></circle>
						<line x1="19" y1="8" x2="19" y2="14"></line>
						<line x1="22" y1="11" x2="16" y2="11"></line>
					</svg>
					Walk-in Guest
				</button>
			</div>

			<!-- Member Check-in Form -->
			<form id="memberCheckInForm" class="check-in-form active">
				<div class="form-group">
					<label for="memberSearch">Search Member</label>
					<div class="search-container">
						<input type="text" id="memberSearch" placeholder="Search by Member ID or Name..." autocomplete="off">
						<div class="search-results-dropdown" id="memberSearchResults"></div>
					</div>
				</div>
				<div class="selected-member-info" id="selectedMemberInfo">
					<div class="member-card">
						<div class="member-card-avatar" id="memberCardAvatar">--</div>
						<div class="member-card-details">
							<h4 id="memberCardName">No member selected</h4>
							<p id="memberCardId">Search for a member above</p>
							<span class="member-card-status" id="memberCardStatus"></span>
						</div>
					</div>
				</div>
				<input type="hidden" id="selectedMemberId">
				<div class="modal-actions">
					<button type="button" class="btn-secondary" id="cancelMemberCheckIn">Cancel</button>
					<button type="submit" class="btn-primary" id="submitMemberCheckIn">Log Check-in</button>
				</div>
			</form>

			<!-- Walk-in Guest Form -->
			<form id="walkInForm" class="check-in-form">
				<p class="walk-in-notice">Walk-in guests will be redirected to payment processing.</p>
				<div class="form-group">
					<label for="guestName">Guest Name</label>
					<input type="text" id="guestName" placeholder="Enter guest name" value="Guest" required>
				</div>
				<div class="form-group">
					<label for="guestGender">Gender</label>
					<select id="guestGender" required>
						<option value="">Select gender</option>
						<option value="Male">Male</option>
						<option value="Female">Female</option>
					</select>
				</div>
				<div class="modal-actions">
					<button type="button" class="btn-secondary" id="cancelWalkIn">Cancel</button>
					<button type="submit" class="btn-primary" id="submitWalkIn">Proceed to Payment</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Check-in Modal Script -->
<script defer src="{% static 'dashboard/js/checkin_modal.js' %}?v=3"></script>
